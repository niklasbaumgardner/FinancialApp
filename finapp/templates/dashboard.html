{% extends "base.html" %}

{% block title %}Dashboard{% endblock title %}
{% block dashboard %}active{% endblock dashboard %}

{% block backButton %}<a href="/" class="btn btn-outline-primary me-5"> &#8249; Back</a>{% endblock backButton %}



{% block content %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.6.0/chart.min.js" integrity="sha512-GMGzUEevhWh8Tc/njS0bDpwgxdCJLQBWG3Z2Ct+JGOpVnEmjvNx6ts4v6A2XJf1HOrtOsfhv3hBKpK9kE5z8AQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.6.0/chart.js" integrity="sha512-CWVDkca3f3uAWgDNVzW+W4XJbiC3CH84P2aWZXj+DqI6PNbTzXbl1dIzEHeNJpYSn4B6U8miSZb/hCws7FnUZA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script> -->
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.6.0/helpers.esm.min.js" integrity="sha512-1b6IKdJzKvjUfXuATUJs0a4ti8sBZHY0DKZ1O1UCj3cpw+IEKxUwG2UtXNOjS5/JkqxQ2v5GUMFn62mtZyXAfA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@3.6.0/dist/chart.min.js"></script> -->
<!-- <script src="https://cdn.jsdelivr.net/npm/chart.js@3.6.0/helpers/helpers.js"></script> -->

<script>
    function getData(url) {
        var xmlHttp = new XMLHttpRequest();
        xmlHttp.open( "GET", url, false ); // false for synchronous request
        xmlHttp.send( null );
        return xmlHttp.response;
    }
    function getPieData() {
        return getData("{{ url_for('home.get_pie_data') }}");
    }
    function getAllBudgetsLineData() {
        return getData("{{ url_for('home.get_all_budgets_line_data') }}");
    }
</script>

<div class="container py-5 h-100">
    <div class="row h-100 py-12">
        <div class="card bg-dark p-5">
            <div>
                <p class="text-white fs-2">Check the budgets you want to view</p>
                <div id="lineButtons" class="btn-group" role="group" aria-label="Basic checkbox toggle button group">
                    <input type="checkbox" class="btn-check" id="allBudgets" checked>
                    <label id="allBudgetsLabel" class="btn btn-outline-light" for="allBudgets">All Budgets</label>
                </div>
                <button class="btn btn-outline-primary" onclick="reAssignColors()">Randomize colors</button>
            </div>
            <div class="card-body">
                <canvas id="lineChart"></canvas>
            </div>
        </div>
    </div>

    <div class="row h-100 py-12">
        <div class="col mt-5 p-0 mr-24">
            <div id="pie-chart-div" class="card bg-dark p-5">
                <canvas id="pieChart"></canvas>
            </div>
        </div>
        <div class="col mt-5 p-0 ml-24">
            <div id="" class="card bg-dark p-5">
                <!-- <canvas id="pieChart"></canvas> -->
                <p class="text-white fs-1">More coming soon...</p>
            </div>
        </div>
    </div>

    <!-- <div class="row h-100 mt-5 py-12">
        <div class="card bg-dark p-5">
            <canvas id="allBudgetsLineChart"></canvas>
        </div>
</div> -->
<script src="/static/js/dashboard.js"></script>
{% endblock content %}